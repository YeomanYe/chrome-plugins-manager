(function(){var h=$("#_TOOLS_STATUS__");function g(p){if(p){h.html(p).css({opacity:"1",top:"0px"});setTimeout(function(){h.css({opacity:"0",top:"-38px"});
},1000);}}var n=null,k=$("#js-sel-column-show"),f=$("#js-sel-column");function c(p){localStorage.setItem("_showColumn_",p);k.html(p);if(n){clearTimeout(n);
n=null;}n=setTimeout(function(){g("设置成功!");},600);}f.on("input chnage",function(){c($(this).val());});var b=localStorage.getItem("_showColumn_");if(b){f.val(b);
k.html(b);}var m=null,l=$("#js-icon-size-show"),d=$("#js-icon-size"),j={1:"缩小",2:"标准",3:"放大"};function o(p){localStorage.setItem("_showIconSize_",p);l.html(j[p]);
if(m){clearTimeout(m);m=null;}m=setTimeout(function(){g("设置成功!");},600);}d.on("input chnage",function(){o($(this).val());});var e=localStorage.getItem("_showIconSize_");
if(e){d.val(e);l.html(j[e]);}$("#js-clear-rank").click(function(){localStorage.removeItem("_rankList_");g("已重置排序!");});$("[data-switch-id]").each(function(){var q=$(this),p=q.data("switch-id"),r="_switch_"+p+"_";
if(localStorage.getItem(r)==="close"){q.closest(".list").addClass("switch-btn-close");}});$(".switch-btn").click(function(){var p=$(this),q=p.closest(".list"),r="_switch_"+p.data("switch-id")+"_";
console.log(r);q.toggleClass("switch-btn-close");g("设置成功!");if(q.hasClass("switch-btn-close")){localStorage.setItem(r,"close");}else{localStorage.removeItem(r);
}});chrome.management.getAll(function(v){var t=[];var r=i();for(var u=0;u<v.length;u++){var w=v[u];if(w.id===chrome.app.getDetails().id||w.type==="theme"){continue;
}var s="";if(w.icons){s=w.icons[w.icons.length-1].url;}var p="";if(r){if(r[w.id]=="1"){p="locked";}}var q='<li data-id="'+w.id+'" title="'+w.name+'" '+p+'><img src="'+s+'" alt="'+w.name+'"></li>';
t.push(q);}$("#_PLUGINS_LIST_").html(t.join(""));});function i(){var p=localStorage.getItem("_lockList_");if(p){return JSON.parse(p);}else{return{};}}$("#_PLUGINS_LIST_").on("click","li",function(){var p=$(this);
var r=p.data("id");var q=i();if(p.attr("locked")===undefined){p.attr("locked","");q[r]="1";}else{p.removeAttr("locked");delete q[r];}localStorage.setItem("_lockList_",JSON.stringify(q));
});var a=localStorage.getItem("_rightClick_")||"uninstall";$("#js-rightclick").val(a).change(function(){var p=$(this).val();localStorage.setItem("_rightClick_",p);
g("设置成功!");});})();